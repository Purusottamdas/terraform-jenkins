# Update system
sudo dnf update -y

# Install Java (needed for Jenkins)
sudo dnf install java-17-amazon-corretto -y

# Add Jenkins repo and install
sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
sudo curl -o /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
sudo dnf install jenkins -y

# Enable and start Jenkins
sudo systemctl enable jenkins
sudo systemctl start jenkins

# Install Git
sudo dnf install git -y

# Install unzip (needed for Terraform)
sudo dnf install unzip -y

# Install Terraform
curl -fsSL https://releases.hashicorp.com/terraform/1.9.5/terraform_1.9.5_linux_amd64.zip -o terraform.zip
sudo unzip terraform.zip -d /usr/local/bin/
terraform -v

#To retrive the initial password then login to jenkis through GUI te create te user.
#sudo cat /var/lib/jenkins/secrets/initialAdminPassword


#I will set user:Purusottam password:Purusottam@01

Step to Automate git push trigger
Step 1
Install GitHub plugin in Jenkins
Go to Jenkins Dashboard → Manage Jenkins → Manage Plugins → Available--->Search for “GitHub” or “GitHub Integration Plugin”
Install it and restart Jenkins if required

step2
Enable GitHub webhook trigger In the same job Configure → Build Triggers--->Check “GitHub hook trigger for GITScm polling”

step3
Configure webhook in GitHub--->Go to your GitHub repository → Settings → Webhooks → Add webhook
Payload URL:http://<your-jenkins-server>/github-webhook/--->http://13.233.129.129:8080/github-webhook/
Select: application/json
Choose “Just the push event”